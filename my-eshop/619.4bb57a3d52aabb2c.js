"use strict";(self.webpackChunkmyEshop=self.webpackChunkmyEshop||[]).push([[619],{8619:(k,m,l)=>{l.r(m),l.d(m,{AdminModule:()=>F});var s=l(6895),p=l(1791),e=l(5062),f=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-navigation"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","admin/manage_seller",1,"nav-link"],["href","admin/manage_customer",1,"nav-link"]],template:function(r,i){1&r&&(e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Logo"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._uU(9,"Home "),e.TgZ(10,"span",8),e._uU(11,"(current)"),e.qZA()()(),e.TgZ(12,"li",9)(13,"a",10),e._uU(14,"Manage Sellers"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",11),e._uU(17,"Manage Customers"),e.qZA()(),e.TgZ(18,"li",9)(19,"a",7),e._uU(20,"Other"),e.qZA()()()()())}}),t}(),v=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin"]],decls:2,vars:0,template:function(r,i){1&r&&e._UZ(0,"app-admin-navigation")(1,"router-outlet")},dependencies:[p.lC,f]}),t}(),g=l(5529),S=l(2340),h=l(529),_=function(){function t(n){this.http=n,this.apiUrl=S.N.apiUrl+"Usermgt"}return t.prototype.getUsers=function(){return this.http.get(this.apiUrl)},t.prototype.getUser=function(n){var r="".concat(this.apiUrl,"/").concat(n);return console.log(r),this.http.get(r)},t.prototype.addUser=function(n){return this.http.post(this.apiUrl,n)},t.prototype.updateUser=function(n){var r="".concat(this.apiUrl,"/").concat(n.id);return console.log("updating user"),this.http.put(r,n)},t.prototype.deleteUser=function(n){var r="".concat(this.apiUrl,"/").concat(n);return this.http.delete(r)},t.\u0275fac=function(r){return new(r||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function A(t,n){if(1&t){var r=e.EpF();e.TgZ(0,"tr",4)(1,"td",4),e._uU(2),e.qZA(),e.TgZ(3,"td",4),e._uU(4),e.qZA(),e.TgZ(5,"td",4),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",5),e.NdJ("click",function(){var u=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.editUser(u))}),e._uU(9,"Edit"),e.qZA()(),e.TgZ(10,"td")(11,"button",5),e.NdJ("click",function(){var u=e.CHM(r).$implicit,c=e.oxw();return e.KtG(c.selectUser(u))}),e._uU(12,"Select"),e.qZA()()()}if(2&t){var i=n.$implicit;e.xp6(2),e.Oqu(i.userid),e.xp6(2),e.Oqu(i.display_name),e.xp6(2),e.Oqu(i.userrole)}}var y=function(){function t(n){this.servUser=n,this.Selected_Seller_id_for_Addedit=new e.vpe,this.Selected_Seller_id_for_detail=new e.vpe}return t.prototype.ngOnInit=function(){this.get_Users_Sellers()},t.prototype.addSeller=function(){this.Selected_Seller_id_for_Addedit.emit(0)},t.prototype.editUser=function(n){console.log("(param_user.id:"+JSON.stringify(n.id)),this.Selected_Seller_id_for_detail.emit(void 0),this.Selected_Seller_id_for_Addedit.emit(n.id)},t.prototype.selectUser=function(n){this.Selected_Seller_id_for_Addedit.emit(void 0),this.Selected_Seller_id_for_detail.emit(n.id)},t.prototype.get_Users_Sellers=function(){var n=this;this.servUser.getUsers().subscribe(function(r){n.user_Sellers=r.filter(function(i){return"Seller"==i.userrole})})},t.\u0275fac=function(r){return new(r||t)(e.Y36(_))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-display-sellers"]],inputs:{events:"events"},outputs:{Selected_Seller_id_for_Addedit:"Selected_Seller_id_for_Addedit",Selected_Seller_id_for_detail:"Selected_Seller_id_for_detail"},decls:14,vars:1,consts:[[1,"btn","btn-sm","btn-primary",3,"click"],[1,"table","table-striped"],["scope","col"],["style","height: 5px;",4,"ngFor","ngForOf"],[2,"height","5px"],[1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return i.addSeller()}),e._uU(1,"New Seller"),e.qZA(),e.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"User ID"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Display Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Role"),e.qZA(),e._UZ(11,"th",2),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,A,13,3,"tr",3),e.qZA()()),2&r&&(e.xp6(13),e.Q6J("ngForOf",i.user_Sellers))},dependencies:[s.sg]}),t}(),o=l(4719);function Z(t,n){if(1&t&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&t){var r=n.$implicit;e.Q6J("value",r),e.xp6(1),e.Oqu(r)}}function U(t,n){1&t&&(e.TgZ(0,"span",18),e._uU(1," userrole not provided. "),e.qZA())}function C(t,n){1&t&&(e.TgZ(0,"span",18),e._uU(1," IsActive is required. "),e.qZA())}var b=function(){function t(n,r){this.formBuilder=n,this.servUser=r,this.formSaved=new e.vpe,this.addedit_OPmode="",this.defaultDate="1987-06-30",this.isSubmitted=!1,this.isSubmitted_uploadform=!1,this.roleList=["Admin","Seller","Customer"]}return t.prototype.ngOnInit=function(){this.myForm=this.formBuilder.group({id:[],userid:["",[o.kI.required,o.kI.min(3),o.kI.max(20)]],display_name:["",[o.kI.required,o.kI.min(3),o.kI.max(50)]],password:["",[o.kI.required,o.kI.min(3),o.kI.max(50)]],userrole:["",[o.kI.required,o.kI.min(3),o.kI.max(20)]],access_saturated:[""],IsActive:["",[o.kI.required]],CREATEDBY_username:["",[o.kI.required,o.kI.min(3),o.kI.max(25)]]})},t.prototype.ngOnChanges=function(n){var r=this;n.param_Seller_id&&(this.get_User(),0==this.param_Seller_id?(this.addedit_OPmode="Add",this.myForm.reset()):this.addedit_OPmode="Edit",this.param_Seller_id&&(this.get_User(),setTimeout(function(){r.myForm.patchValue({id:r.param_Seller_id,userid:r.user_Selected.userid,display_name:r.user_Selected.display_name,userrole:r.user_Selected.userrole,IsActive:r.user_Selected.IsActive})},300)))},Object.defineProperty(t.prototype,"errorControl",{get:function(){return this.myForm.controls},enumerable:!1,configurable:!0}),t.prototype.get_User=function(){var n=this;this.servUser.getUser(this.param_Seller_id).subscribe(function(r){n.user_Selected=r[0],console.log("m in addedt getting a user:"+JSON.stringify(r)+" abc:"+n.param_Seller_id)})},t.prototype.onSubmit=function(){var n=this;console.log(this.myForm.value),"Add"==this.addedit_OPmode?this.servUser.addUser(this.myForm.value).subscribe(function(r){n.formSaved.emit(!0),n.myForm.reset()}):"Edit"==this.addedit_OPmode&&this.servUser.updateUser(this.myForm.value).subscribe(function(r){n.formSaved.emit(!0),n.myForm.reset()})},t.\u0275fac=function(r){return new(r||t)(e.Y36(o.qu),e.Y36(_))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sellers-add-edit"]],inputs:{param_Seller_id:"param_Seller_id"},outputs:{formSaved:"formSaved"},features:[e.TTD],decls:34,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["for","userid"],["type","text","formControlName","userid","id","userid",1,"form-control"],["for","display_name"],["type","text","formControlName","display_name","id","display_name",1,"form-control"],["for","password"],["type","text","formControlName","password","id","password",1,"form-control"],["for","role"],["formControlName","userrole","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["stacked",""],["formControlName","IsActive"],[3,"value"],["for","access_saturated"],["type","text","formControlName","access_saturated","id","access_saturated",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(r,i){1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"userid"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Display Name"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1)(10,"label",6),e._uU(11,"Password"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1)(14,"label",8),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"select",9),e.YNc(17,Z,2,2,"option",10),e.qZA(),e.YNc(18,U,2,0,"span",11),e.qZA(),e.TgZ(19,"div",1)(20,"label",12),e._uU(21,"IsActive"),e.qZA(),e.TgZ(22,"select",13)(23,"option",14),e._uU(24,"Active "),e.qZA(),e.TgZ(25,"option",14),e._uU(26,"InActive"),e.qZA()(),e.YNc(27,C,2,0,"span",11),e.qZA(),e.TgZ(28,"div",1)(29,"label",15),e._uU(30,"access_saturated"),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"button",17),e._uU(33,"Submit"),e.qZA()()),2&r&&(e.Q6J("formGroup",i.myForm),e.xp6(17),e.Q6J("ngForOf",i.roleList),e.xp6(1),e.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.userrole.errors?null:i.errorControl.userrole.errors.required)),e.xp6(5),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",i.isSubmitted&&(null==i.errorControl.IsActive.errors?null:i.errorControl.IsActive.errors.required)))},dependencies:[s.sg,s.O5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.sg,o.u]}),t}();function T(t,n){if(1&t){var r=e.EpF();e.TgZ(0,"div",1)(1,"app-sellers-add-edit",4),e.NdJ("formSaved",function(a){e.CHM(r);var u=e.oxw();return e.KtG(u.userformSave_Detected(a))}),e.qZA()()}if(2&t){var i=e.oxw();e.xp6(1),e.Q6J("param_Seller_id",i.current_Seller_id_for_Addedit)}}var x=[{path:"",component:v,children:[{path:"manage_seller",component:function(){function t(){this.eventsSubject=new g.xQ}return t.prototype.emitEventToChild=function(){this.eventsSubject.next()},t.prototype.Seller_Select_Changed_for_Addedit=function(n){console.log("Seller_Select_Changed_for_Addedit:"+n),this.current_Seller_id_for_Addedit=n},t.prototype.userformSave_Detected=function(n){console.log("in child formSaved detected m in manage seller"),this.current_Seller_id_for_Addedit=null,this.emitEventToChild()},t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-seller"]],decls:4,vars:2,consts:[[1,"row"],[1,"col-6"],[3,"events","Selected_Seller_id_for_Addedit"],["class","col-6",4,"ngIf"],[3,"param_Seller_id","formSaved"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-display-sellers",2),e.NdJ("Selected_Seller_id_for_Addedit",function(a){return i.Seller_Select_Changed_for_Addedit(a)}),e.qZA()(),e.YNc(3,T,2,1,"div",3),e.qZA()),2&r&&(e.xp6(2),e.Q6J("events",i.eventsSubject.asObservable()),e.xp6(1),e.Q6J("ngIf",null!=i.current_Seller_id_for_Addedit))},dependencies:[s.O5,y,b],styles:["tr[_ngcontent-%COMP%]{height:25px!important}"]}),t}()},{path:"manage_customer",component:function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-customer"]],decls:2,vars:0,template:function(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1,"manage-customer works!"),e.qZA())}}),t}()}]}],N=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(x),p.Bz]}),t}(),F=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.ez,o.u5,o.UX,N]}),t}()}}]);