"use strict";(self.webpackChunkmyEshop=self.webpackChunkmyEshop||[]).push([[180],{3180:(T,l,s)=>{s.r(l),s.d(l,{AuthModule:()=>A});var a=s(6895),u=s(1791),t=s(4719),f=s(7224),o=s(5062),p=s(1716);function g(e,n){1&e&&(o.TgZ(0,"div"),o._uU(1,"Username is required"),o.qZA())}function c(e,n){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,g,2,0,"div",20),o.qZA()),2&e){var r=o.oxw();o.xp6(1),o.Q6J("ngIf",null==r.f.username.errors?null:r.f.username.errors.required)}}function v(e,n){1&e&&(o.TgZ(0,"div"),o._uU(1,"Password is required"),o.qZA())}function h(e,n){if(1&e&&(o.TgZ(0,"div",19),o.YNc(1,v,2,0,"div",20),o.qZA()),2&e){var r=o.oxw();o.xp6(1),o.Q6J("ngIf",null==r.f.password.errors?null:r.f.password.errors.required)}}function b(e,n){1&e&&o._UZ(0,"span",21)}function Z(e,n){if(1&e&&(o.TgZ(0,"div",22),o._uU(1),o.qZA()),2&e){var r=o.oxw();o.xp6(1),o.Oqu(r.error)}}var d=function(e){return{"is-invalid":e}},y=[{path:"",children:[{path:"login",component:function(){function e(n,r,i,m){this.formBuilder=n,this.route=r,this.router=i,this.authServ=m,this.loading=!1,this.submitted=!1,this.error="",console.log("checking whether already logged in? Y/N:"),this.authServ.currentUserValue&&(console.log("already logged in"),this.router.navigate(["/"]))}return e.prototype.ngOnInit=function(){this.loginForm=this.formBuilder.group({username:["pinky",t.kI.required],password:["pinky",t.kI.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"},Object.defineProperty(e.prototype,"f",{get:function(){return this.loginForm.controls},enumerable:!1,configurable:!0}),e.prototype.onSubmit=function(){var n=this;this.submitted=!0,!this.loginForm.invalid&&(this.loading=!0,this.authServ.loginbycredential(this.f.username.value,this.f.password.value).pipe((0,f.P)()).subscribe(function(r){"SELLER"==r.userrole.toLocaleUpperCase()?n.router.navigateByUrl("seller"):"CUSTOMER"==r.userrole.toLocaleUpperCase()?n.router.navigateByUrl("home"):"ADMIN"==r.userrole.toLocaleUpperCase()&&(console.log(r.userrole.toLocaleUpperCase()+" navigate to admin oute"),n.router.navigateByUrl("admin"))},function(r){n.error=r,n.loading=!1}))},e.\u0275fac=function(r){return new(r||e)(o.Y36(t.qu),o.Y36(u.gz),o.Y36(u.F0),o.Y36(p.$))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:29,vars:12,consts:[["id","divForm",2,"width","100%","height","100%"],["divForm",""],[1,"row"],[1,"col-md-3","col-sm-5","col-xs-1","offset-md-4","mt-5",2,"background-color","black"],[1,"row",2,"background-color","cadetblue"],[1,"col-md-3","col-sm-5","col-xs-1","offset-md-4","mt-5",2,"background-color","cadetblue"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["class","alert alert-danger mt-3 mb-0",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],[1,"alert","alert-danger","mt-3","mb-0"]],template:function(r,i){1&r&&(o.TgZ(0,"p"),o._uU(1,"login works!"),o.qZA(),o.TgZ(2,"div",0,1)(4,"div",2)(5,"div",3),o._uU(6," XYZ Management System "),o.qZA()(),o._UZ(7,"div",4),o.TgZ(8,"div",2)(9,"div",5)(10,"div",6)(11,"h4",7),o._uU(12,"Login"),o.qZA(),o.TgZ(13,"div",8)(14,"form",9),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(15,"div",10)(16,"label",11),o._uU(17,"Username"),o.qZA(),o._UZ(18,"input",12),o.YNc(19,c,2,1,"div",13),o.qZA(),o.TgZ(20,"div",10)(21,"label",14),o._uU(22,"Password"),o.qZA(),o._UZ(23,"input",15),o.YNc(24,h,2,1,"div",13),o.qZA(),o.TgZ(25,"button",16),o.YNc(26,b,1,0,"span",17),o._uU(27," Login "),o.qZA(),o.YNc(28,Z,2,1,"div",18),o.qZA()()()()()()),2&r&&(o.xp6(14),o.Q6J("formGroup",i.loginForm),o.xp6(4),o.Q6J("ngClass",o.VKq(8,d,i.submitted&&i.f.username.errors)),o.xp6(1),o.Q6J("ngIf",i.submitted&&i.f.username.errors),o.xp6(4),o.Q6J("ngClass",o.VKq(10,d,i.submitted&&i.f.password.errors)),o.xp6(1),o.Q6J("ngIf",i.submitted&&i.f.password.errors),o.xp6(1),o.Q6J("disabled",i.loading),o.xp6(1),o.Q6J("ngIf",i.loading),o.xp6(2),o.Q6J("ngIf",i.error))},dependencies:[a.mk,a.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u]}),e}()}]}],C=function(){function e(){}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(y),t.u5,t.UX,u.Bz]}),e}(),A=function(){function e(){}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[a.ez,t.u5,t.UX,C]}),e}()}}]);