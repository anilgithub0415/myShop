"use strict";(self.webpackChunkmyShop=self.webpackChunkmyShop||[]).push([[446],{3446:(O,_,c)=>{c.r(_),c.d(_,{SellerModule:()=>N});var s=c(6895),u=c(1791),t=c(5062);let f=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-seller-navigation"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","seller/manage_product",1,"nav-link"],["href","seller/manage_orders",1,"nav-link"]],template:function(e,o){1&e&&(t.TgZ(0,"nav",0)(1,"a",1),t._uU(2,"Logo"),t.qZA(),t.TgZ(3,"button",2),t._UZ(4,"span",3),t.qZA(),t.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),t._uU(9,"Home "),t.TgZ(10,"span",8),t._uU(11,"(current)"),t.qZA()()(),t.TgZ(12,"li",9)(13,"a",10),t._uU(14,"Manage Products"),t.qZA()(),t.TgZ(15,"li",9)(16,"a",11),t._uU(17,"Manage Orders"),t.qZA()(),t.TgZ(18,"li",9)(19,"a",7),t._uU(20,"Other"),t.qZA()()()()())}}),r})(),h=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-seller"]],decls:4,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"seller works!"),t.qZA(),t._UZ(2,"app-seller-navigation")(3,"router-outlet"))},dependencies:[u.lC,f]}),r})();var v=c(5529),y=c(4635),P=c(2340),Z=c(529);let g=(()=>{class r{constructor(e){this.http=e,this.apiUrl=P.N.apiUrl+"category"}getCategorys(){return this.http.get(this.apiUrl)}getProduct(e){const o=`${this.apiUrl}/${e}`;return console.log(o),this.http.get(o)}addProduct(e){return this.http.post(this.apiUrl,e)}updateProduct(e){return this.http.put(`${this.apiUrl}/${e.id}`,e)}deleteProduct(e){return this.http.delete(`${this.apiUrl}/${e}`)}}return r.\u0275fac=function(e){return new(e||r)(t.LFG(Z.eN))},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var p=c(5760),l=c(1716);function C(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"tr",4)(1,"td",4),t._uU(2),t.qZA(),t.TgZ(3,"td",4),t._uU(4),t.qZA(),t.TgZ(5,"td",4),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",5),t.NdJ("click",function(){const n=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.editProduct(n))}),t._uU(9,"Change"),t.qZA()(),t.TgZ(10,"td")(11,"button",5),t.NdJ("click",function(){const n=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.selectProduct(n))}),t._uU(12,"Preview"),t.qZA()()()}if(2&r){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.product_name),t.xp6(2),t.Oqu(o.servCommon.GetDisplayNameByKey(o.categoryList,"id",e.category_id,"Category"))}}let S=(()=>{class r{constructor(e,o,a,n){this.servCommon=e,this.servCategory=o,this.servProduct=a,this.authServ=n,this.product_id_for_Addedit=new t.vpe,this.product_id_for_Detail=new t.vpe,this.product_id_Selected=new t.vpe,this.categoryList=[]}ngOnInit(){this.get_products(),this.getCategories(),this.eventsSubscription=this.events.subscribe(()=>this.get_products())}getCategories(){this.servCategory.getCategorys().subscribe(e=>{this.categoryList=e})}ngOnDestroy(){this.eventsSubscription.unsubscribe()}addProduct(){this.product_id_for_Addedit.emit(0)}editProduct(e){this.product_id_for_Detail.emit(void 0),this.product_id_for_Addedit.emit(e.id)}selectProduct(e){this.product_id_for_Addedit.emit(void 0),this.product_id_for_Detail.emit(e.id)}get_products(){this.servProduct.getProducts(this.authServ.currentUserValue.id).subscribe(e=>{this.products=e,console.log("aaaaaaa:"+JSON.stringify(this.authServ.currentUserValue.id))})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(y.v),t.Y36(g),t.Y36(p.M),t.Y36(l.$))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-display-product"]],inputs:{events:"events"},outputs:{product_id_for_Addedit:"product_id_for_Addedit",product_id_for_Detail:"product_id_for_Detail",product_id_Selected:"product_id_Selected"},decls:15,vars:2,consts:[[1,"btn","btn-sm","btn-danger",3,"click"],[1,"table","table-striped"],["scope","col"],["style","height: 5px;",4,"ngFor","ngForOf"],[2,"height","5px"],[1,"btn","btn-danger",3,"click"]],template:function(e,o){1&e&&(t._uU(0),t.TgZ(1,"button",0),t.NdJ("click",function(){return o.addProduct()}),t._uU(2,"New Product"),t.qZA(),t.TgZ(3,"table",1)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"ID"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Product Name"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"category"),t.qZA(),t._UZ(12,"th",2),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,C,13,3,"tr",3),t.qZA()()),2&e&&(t.hij("products count:",o.products.length,"\n"),t.xp6(14),t.Q6J("ngForOf",o.products))},dependencies:[s.sg],styles:["body[_ngcontent-%COMP%]{color:#ff0}"]}),r})();var d=c(4719);function A(r,i){if(1&r&&(t.TgZ(0,"option",22),t._uU(1),t.qZA()),2&r){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.Category)}}function b(r,i){1&r&&(t.TgZ(0,"span",23),t._uU(1," Category not provided. "),t.qZA())}let T=(()=>{class r{constructor(e,o,a,n){this.formBuilder=e,this.servProduct=o,this.servCategory=a,this.authServ=n,this.formSaved=new t.vpe,this.addedit_OPmode="",this.defaultDate="1987-06-30",this.isSubmitted=!1,this.isSubmitted_uploadform=!1,this.categoryList=[]}ngAfterViewInit(){this.getCategories()}getCategories(){this.servCategory.getCategorys().subscribe(e=>{this.categoryList=e})}ngOnInit(){this.myForm=this.formBuilder.group({seller_id:[""],firm_name:[""],firm_addr:[""],product_name:["",[d.kI.required,d.kI.min(3),d.kI.max(50)]],imageUrl:["",[d.kI.required,d.kI.min(3),d.kI.max(50)]],category:[""],price:[""],discount_text:[],icon:[d.kI.required],description:[]})}ngOnChanges(e){e.param_Product_id&&(this.getCategories(),0==this.param_Product_id?(this.addedit_OPmode="Add",this.myForm.reset()):this.addedit_OPmode="Edit",this.param_Product_id&&(this.get_Product(),setTimeout(()=>{this.myForm.patchValue({seller_id:this.product_Selected.seller_id,firm_name:this.product_Selected.firm_name,firm_addr:this.product_Selected.firm_addr,product_name:this.product_Selected.product_name,category:this.product_Selected.category_id,price:this.product_Selected.price,description:this.product_Selected.description,discount_text:this.product_Selected.discount_text,imageUrl:this.product_Selected.imageUrl})},300)))}get_Product(){this.servProduct.getProduct(this.param_Product_id).subscribe(e=>{this.product_Selected=e[0],console.log("m in addedt getting a user:"+JSON.stringify(e)+" abc:"+this.param_Product_id)})}onImageSelected(e){this.imageFile=e.target.files[0]}get errorControl(){return this.myForm.controls}onSubmit(){console.log(this.myForm.value);const e=new FormData;var o="";null!=this.authServ.currentUserValue.id&&(o=this.authServ.currentUserValue.id),e.append("id",this.param_Product_id.toString()),e.append("seller_id",o),e.append("firm_name",this.myForm.value.firm_name),e.append("firm_addr",this.myForm.value.firm_addr),e.append("product_name",this.myForm.value.product_name),e.append("category_id",this.myForm.value.category),e.append("imageUrl",this.imageFile.name),e.append("price",this.myForm.value.price),e.append("discount_text",this.myForm.value.discount_text),e.append("description",this.myForm.value.description),e.append("icon",this.imageFile),"Add"==this.addedit_OPmode?this.servProduct.addProduct(e).subscribe(a=>{this.formSaved.emit(!0),this.myForm.reset()}):"Edit"==this.addedit_OPmode&&this.servProduct.updateProduct(e).subscribe(a=>{this.formSaved.emit(!0),this.myForm.reset()})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(d.qu),t.Y36(p.M),t.Y36(g),t.Y36(l.$))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-add-edit"]],inputs:{param_Product_id:"param_Product_id"},outputs:{formSaved:"formSaved"},features:[t.TTD],decls:39,vars:4,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],["for","firm_name"],["type","text","formControlName","firm_name","id","firm_name",1,"form-control"],["for","firm_addr"],["type","text","formControlName","firm_addr","id","firm_addr",1,"form-control"],["for","product_name"],["type","text","formControlName","product_name","id","product_name",1,"form-control"],["for","Price"],["type","text","formControlName","price","id","price",1,"form-control"],["for","description"],["type","text","formControlName","description","id","description",1,"form-control"],["for","discount_text"],["type","text","formControlName","discount_text","id","discount_text",1,"form-control"],["for","category"],["formControlName","category","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["for","image"],["type","file","id","image",1,"form-control-file",3,"change"],["alt","Product image",1,"card-img-top",2,"height","250px","width","auto","object-fit","contain",3,"src"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"error"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"div",1)(2,"label",2),t._uU(3,"firm name"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1)(6,"label",4),t._uU(7,"firm addr"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1)(10,"label",6),t._uU(11,"Product Name"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1)(14,"label",8),t._uU(15,"Price"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"div",1)(18,"label",10),t._uU(19,"description"),t.qZA(),t._UZ(20,"input",11),t.qZA(),t.TgZ(21,"div",1)(22,"label",12),t._uU(23,"discount_text"),t.qZA(),t._UZ(24,"input",13),t.qZA(),t.TgZ(25,"div",1)(26,"label",14),t._uU(27,"Category"),t.qZA(),t.TgZ(28,"select",15),t.YNc(29,A,2,2,"option",16),t.qZA(),t.YNc(30,b,2,0,"span",17),t.qZA(),t.TgZ(31,"div",1)(32,"label",18),t._uU(33,"Product Image"),t.qZA(),t.TgZ(34,"input",19),t.NdJ("change",function(n){return o.onImageSelected(n)}),t.qZA()(),t.TgZ(35,"div",1),t._UZ(36,"img",20),t.qZA(),t.TgZ(37,"button",21),t._uU(38,"Submit"),t.qZA()()),2&e&&(t.Q6J("formGroup",o.myForm),t.xp6(29),t.Q6J("ngForOf",o.categoryList),t.xp6(1),t.Q6J("ngIf",o.isSubmitted&&(null==o.errorControl.category.errors?null:o.errorControl.category.errors.required)),t.xp6(6),t.MGl("src","../../../assets/product_images/",o.errorControl.imageUrl.value,"",t.LSH))},dependencies:[s.sg,s.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.sg,d.u]}),r})(),U=(()=>{class r{constructor(e,o){this.servProduct=e,this.authServ=o}ngOnChanges(e){e.param_Product_id&&this.param_Product_id&&this.get_Product()}get_Product(){this.servProduct.getProduct(this.param_Product_id).subscribe(e=>{this.product_Selected=e[0],this.imagepath="E:/myApt/nodeMyShop/images/apple.jpg"})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(p.M),t.Y36(l.$))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-product-detail"]],inputs:{param_Product_id:"param_Product_id"},features:[t.TTD],decls:12,vars:7,consts:[[1,"card","mt-2","mb-3",2,"background-color","light-yellow","border","5px solid pink","padding","10px"],[1,"card-body"],[1,"card-text","firm_name"],["alt","Product image",1,"card-img-top",2,"height","250px","width","auto","object-fit","contain",3,"src"],[1,"card-title",2,"color","maroon"],[1,"card-text"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p",2),t._uU(3),t.qZA()(),t._UZ(4,"img",3),t.TgZ(5,"div",1)(6,"h5",4),t._uU(7),t.qZA(),t.TgZ(8,"p",5),t._uU(9),t.qZA(),t.TgZ(10,"p",5),t._uU(11),t.qZA()()()),2&e&&(t.xp6(3),t.AsE("",o.product_Selected.firm_name,"",o.product_Selected.firm_addr,""),t.xp6(1),t.MGl("src","../../../../../../assets/product_images/",o.product_Selected.imageUrl,"",t.LSH),t.xp6(3),t.Oqu(o.product_Selected.product_name),t.xp6(2),t.Oqu(o.product_Selected.description),t.xp6(2),t.AsE("Price:",o.product_Selected.price," \xa0\xa0 \xa0 ",o.product_Selected.discount_text,""))},styles:[".card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0000001f,0 4px 8px #0000000f}"]}),r})();function x(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",1)(1,"app-product-add-edit",4),t.NdJ("formSaved",function(a){t.CHM(e);const n=t.oxw();return t.KtG(n.productformSave_Detected(a))}),t.qZA()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("param_Product_id",e.curr_Prod_id_for_Addedit)}}function q(r,i){if(1&r&&(t.TgZ(0,"div",1),t._UZ(1,"app-product-detail",5),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("param_Product_id",e.curr_Prod_id_for_detail)}}const F=[{path:"",component:h,children:[{path:"manage_product",component:(()=>{class r{constructor(){this.eventsSubject=new v.xQ}emitEventToChild(){this.eventsSubject.next()}Prod_Select_Changed_for_Addedit(e){this.curr_Prod_id_for_Addedit=e}Prod_Select_Changed_for_Detail(e){this.curr_Prod_id_for_detail=e}productformSave_Detected(e){console.log("in child formSaved detected m in manage seller"),this.curr_Prod_id_for_Addedit=null,this.emitEventToChild()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-manage-products"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-6"],[3,"events","product_id_for_Addedit","product_id_for_Detail"],["class","col-6",4,"ngIf"],[3,"param_Product_id","formSaved"],[3,"param_Product_id"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-display-product",2),t.NdJ("product_id_for_Addedit",function(n){return o.Prod_Select_Changed_for_Addedit(n)})("product_id_for_Detail",function(n){return o.Prod_Select_Changed_for_Detail(n)}),t.qZA()(),t.YNc(3,x,2,1,"div",3),t.YNc(4,q,2,1,"div",3),t.qZA()),2&e&&(t.xp6(2),t.Q6J("events",o.eventsSubject.asObservable()),t.xp6(1),t.Q6J("ngIf",null!=o.curr_Prod_id_for_Addedit),t.xp6(1),t.Q6J("ngIf",null!=o.curr_Prod_id_for_detail))},dependencies:[s.O5,S,T,U]}),r})()},{path:"manage_orders",component:(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-manage-orders"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"manage-orders works!"),t.qZA())}}),r})()}]}];let M=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.Bz.forChild(F),u.Bz]}),r})(),N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[s.ez,d.u5,d.UX,M]}),r})()}}]);