"use strict";(self.webpackChunkmyShop=self.webpackChunkmyShop||[]).push([[619],{8619:(I,p,l)=>{l.r(p),l.d(p,{AdminModule:()=>x});var d=l(6895),m=l(1791),e=l(5062);let _=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin-navigation"]],decls:21,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item","active"],["href","#",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["href","admin/manage_seller",1,"nav-link"],["href","admin/manage_customer",1,"nav-link"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"a",1),e._uU(2,"Logo"),e.qZA(),e.TgZ(3,"button",2),e._UZ(4,"span",3),e.qZA(),e.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),e._uU(9,"Home "),e.TgZ(10,"span",8),e._uU(11,"(current)"),e.qZA()()(),e.TgZ(12,"li",9)(13,"a",10),e._uU(14,"Manage Sellers"),e.qZA()(),e.TgZ(15,"li",9)(16,"a",11),e._uU(17,"Manage Customers"),e.qZA()(),e.TgZ(18,"li",9)(19,"a",7),e._uU(20,"Other"),e.qZA()()()()())}}),r})(),f=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-admin"]],decls:2,vars:0,template:function(t,n){1&t&&e._UZ(0,"app-admin-navigation")(1,"router-outlet")},dependencies:[m.lC,_]}),r})();var g=l(5529),S=l(2340),h=l(529);let c=(()=>{class r{constructor(t){this.http=t,this.apiUrl=S.N.apiUrl+"Usermgt"}getUsers(){return this.http.get(this.apiUrl)}getUser(t){const n=`${this.apiUrl}/${t}`;return console.log(n),this.http.get(n)}addUser(t){return this.http.post(this.apiUrl,t)}updateUser(t){const n=`${this.apiUrl}/${t.id}`;return console.log("updating user"),this.http.put(n,t)}deleteUser(t){return this.http.delete(`${this.apiUrl}/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(h.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function v(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"tr",4)(1,"td",4),e._uU(2),e.qZA(),e.TgZ(3,"td",4),e._uU(4),e.qZA(),e.TgZ(5,"td",4),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"button",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.editUser(s))}),e._uU(9,"Edit"),e.qZA()(),e.TgZ(10,"td")(11,"button",5),e.NdJ("click",function(){const s=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.selectUser(s))}),e._uU(12,"Select"),e.qZA()()()}if(2&r){const t=o.$implicit;e.xp6(2),e.Oqu(t.userid),e.xp6(2),e.Oqu(t.display_name),e.xp6(2),e.Oqu(t.userrole)}}let A=(()=>{class r{constructor(t){this.servUser=t,this.Selected_Seller_id_for_Addedit=new e.vpe,this.Selected_Seller_id_for_detail=new e.vpe}ngOnInit(){this.get_Users_Sellers()}addSeller(){this.Selected_Seller_id_for_Addedit.emit(0)}editUser(t){console.log("(param_user.id:"+JSON.stringify(t.id)),this.Selected_Seller_id_for_detail.emit(void 0),this.Selected_Seller_id_for_Addedit.emit(t.id)}selectUser(t){this.Selected_Seller_id_for_Addedit.emit(void 0),this.Selected_Seller_id_for_detail.emit(t.id)}get_Users_Sellers(){this.servUser.getUsers().subscribe(t=>{this.user_Sellers=t.filter(n=>"Seller"==n.userrole)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-display-sellers"]],inputs:{events:"events"},outputs:{Selected_Seller_id_for_Addedit:"Selected_Seller_id_for_Addedit",Selected_Seller_id_for_detail:"Selected_Seller_id_for_detail"},decls:14,vars:1,consts:[[1,"btn","btn-sm","btn-primary",3,"click"],[1,"table","table-striped"],["scope","col"],["style","height: 5px;",4,"ngFor","ngForOf"],[2,"height","5px"],[1,"btn","btn-primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.addSeller()}),e._uU(1,"New Seller"),e.qZA(),e.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"User ID"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Display Name"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Role"),e.qZA(),e._UZ(11,"th",2),e.qZA()(),e.TgZ(12,"tbody"),e.YNc(13,v,13,3,"tr",3),e.qZA()()),2&t&&(e.xp6(13),e.Q6J("ngForOf",n.user_Sellers))},dependencies:[d.sg]}),r})();var i=l(4719);function Z(r,o){if(1&r&&(e.TgZ(0,"option",14),e._uU(1),e.qZA()),2&r){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function C(r,o){1&r&&(e.TgZ(0,"span",18),e._uU(1," userrole not provided. "),e.qZA())}function U(r,o){1&r&&(e.TgZ(0,"span",18),e._uU(1," IsActive is required. "),e.qZA())}let y=(()=>{class r{constructor(t,n){this.formBuilder=t,this.servUser=n,this.formSaved=new e.vpe,this.addedit_OPmode="",this.defaultDate="1987-06-30",this.isSubmitted=!1,this.isSubmitted_uploadform=!1,this.roleList=["Admin","Seller","Customer"]}ngOnInit(){this.myForm=this.formBuilder.group({id:[],userid:["",[i.kI.required,i.kI.min(3),i.kI.max(20)]],display_name:["",[i.kI.required,i.kI.min(3),i.kI.max(50)]],password:["",[i.kI.required,i.kI.min(3),i.kI.max(50)]],userrole:["",[i.kI.required,i.kI.min(3),i.kI.max(20)]],access_saturated:[""],IsActive:["",[i.kI.required]],CREATEDBY_username:["",[i.kI.required,i.kI.min(3),i.kI.max(25)]]})}ngOnChanges(t){t.param_Seller_id&&(this.get_User(),0==this.param_Seller_id?(this.addedit_OPmode="Add",this.myForm.reset()):this.addedit_OPmode="Edit",this.param_Seller_id&&(this.get_User(),setTimeout(()=>{this.myForm.patchValue({id:this.param_Seller_id,userid:this.user_Selected.userid,display_name:this.user_Selected.display_name,userrole:this.user_Selected.userrole,IsActive:this.user_Selected.IsActive})},300)))}get errorControl(){return this.myForm.controls}get_User(){this.servUser.getUser(this.param_Seller_id).subscribe(t=>{this.user_Selected=t[0],console.log("m in addedt getting a user:"+JSON.stringify(t)+" abc:"+this.param_Seller_id)})}onSubmit(){console.log(this.myForm.value),"Add"==this.addedit_OPmode?this.servUser.addUser(this.myForm.value).subscribe(t=>{this.formSaved.emit(!0),this.myForm.reset()}):"Edit"==this.addedit_OPmode&&this.servUser.updateUser(this.myForm.value).subscribe(t=>{this.formSaved.emit(!0),this.myForm.reset()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(c))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sellers-add-edit"]],inputs:{param_Seller_id:"param_Seller_id"},outputs:{formSaved:"formSaved"},features:[e.TTD],decls:34,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"form-group"],["for","userid"],["type","text","formControlName","userid","id","userid",1,"form-control"],["for","display_name"],["type","text","formControlName","display_name","id","display_name",1,"form-control"],["for","password"],["type","text","formControlName","password","id","password",1,"form-control"],["for","role"],["formControlName","userrole","required","",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["stacked",""],["formControlName","IsActive"],[3,"value"],["for","access_saturated"],["type","text","formControlName","access_saturated","id","access_saturated",1,"form-control"],["type","submit",1,"btn","btn-primary"],[1,"error"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(1,"div",1)(2,"label",2),e._uU(3,"userid"),e.qZA(),e._UZ(4,"input",3),e.qZA(),e.TgZ(5,"div",1)(6,"label",4),e._uU(7,"Display Name"),e.qZA(),e._UZ(8,"input",5),e.qZA(),e.TgZ(9,"div",1)(10,"label",6),e._uU(11,"Password"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"div",1)(14,"label",8),e._uU(15,"Role"),e.qZA(),e.TgZ(16,"select",9),e.YNc(17,Z,2,2,"option",10),e.qZA(),e.YNc(18,C,2,0,"span",11),e.qZA(),e.TgZ(19,"div",1)(20,"label",12),e._uU(21,"IsActive"),e.qZA(),e.TgZ(22,"select",13)(23,"option",14),e._uU(24,"Active "),e.qZA(),e.TgZ(25,"option",14),e._uU(26,"InActive"),e.qZA()(),e.YNc(27,U,2,0,"span",11),e.qZA(),e.TgZ(28,"div",1)(29,"label",15),e._uU(30,"access_saturated"),e.qZA(),e._UZ(31,"input",16),e.qZA(),e.TgZ(32,"button",17),e._uU(33,"Submit"),e.qZA()()),2&t&&(e.Q6J("formGroup",n.myForm),e.xp6(17),e.Q6J("ngForOf",n.roleList),e.xp6(1),e.Q6J("ngIf",n.isSubmitted&&(null==n.errorControl.userrole.errors?null:n.errorControl.userrole.errors.required)),e.xp6(5),e.Q6J("value",!0),e.xp6(2),e.Q6J("value",!1),e.xp6(2),e.Q6J("ngIf",n.isSubmitted&&(null==n.errorControl.IsActive.errors?null:n.errorControl.IsActive.errors.required)))},dependencies:[d.sg,d.O5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.Q7,i.sg,i.u]}),r})();function b(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"app-sellers-add-edit",4),e.NdJ("formSaved",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.userformSave_Detected(a))}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("param_Seller_id",t.current_Seller_id_for_Addedit)}}const T=[{path:"",component:f,children:[{path:"manage_seller",component:(()=>{class r{constructor(){this.eventsSubject=new g.xQ}emitEventToChild(){this.eventsSubject.next()}Seller_Select_Changed_for_Addedit(t){console.log("Seller_Select_Changed_for_Addedit:"+t),this.current_Seller_id_for_Addedit=t}userformSave_Detected(t){console.log("in child formSaved detected m in manage seller"),this.current_Seller_id_for_Addedit=null,this.emitEventToChild()}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-seller"]],decls:4,vars:2,consts:[[1,"row"],[1,"col-6"],[3,"events","Selected_Seller_id_for_Addedit"],["class","col-6",4,"ngIf"],[3,"param_Seller_id","formSaved"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-display-sellers",2),e.NdJ("Selected_Seller_id_for_Addedit",function(s){return n.Seller_Select_Changed_for_Addedit(s)}),e.qZA()(),e.YNc(3,b,2,1,"div",3),e.qZA()),2&t&&(e.xp6(2),e.Q6J("events",n.eventsSubject.asObservable()),e.xp6(1),e.Q6J("ngIf",null!=n.current_Seller_id_for_Addedit))},dependencies:[d.O5,A,y],styles:["tr[_ngcontent-%COMP%]{height:25px!important}"]}),r})()},{path:"manage_customer",component:(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-manage-customer"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"manage-customer works!"),e.qZA())}}),r})()}]}];let q=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.Bz.forChild(T),m.Bz]}),r})(),x=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.ez,i.u5,i.UX,q]}),r})()}}]);