"use strict";(self.webpackChunkEshop=self.webpackChunkEshop||[]).push([[983],{5983:(x,l,n)=>{n.r(l),n.d(l,{ManageOrdersModule:()=>M});var a=n(6895),s=n(7716),e=n(4650),g=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-manage-orders"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-12"],["routerLink","New-Orders"],["routerLink","Paid-Orders"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e._uU(3,"New Orders"),e.qZA(),e.TgZ(4,"a",3),e._uU(5,"Paid Orders"),e.qZA(),e._UZ(6,"router-outlet"),e.qZA()())},dependencies:[s.lC,s.rH]}),t}(),h=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-new-orders"]],decls:167,vars:0,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[1,"text-right"],[1,"card","card-plain"],[1,"card-category"]],template:function(r,i){1&r&&(e.TgZ(0,"p"),e._uU(1,"new-orders works!"),e.qZA(),e.TgZ(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"h5",4),e._uU(7," Simple Table"),e.qZA()(),e.TgZ(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead",8)(12,"th"),e._uU(13," Name "),e.qZA(),e.TgZ(14,"th"),e._uU(15," Country "),e.qZA(),e.TgZ(16,"th"),e._uU(17," City "),e.qZA(),e.TgZ(18,"th",9),e._uU(19," Salary "),e.qZA()(),e.TgZ(20,"tbody")(21,"tr")(22,"td"),e._uU(23," Dakota Rice "),e.qZA(),e.TgZ(24,"td"),e._uU(25," Niger "),e.qZA(),e.TgZ(26,"td"),e._uU(27," Oud-Turnhout "),e.qZA(),e.TgZ(28,"td",9),e._uU(29," $36,738 "),e.qZA()(),e.TgZ(30,"tr")(31,"td"),e._uU(32," Minerva Hooper "),e.qZA(),e.TgZ(33,"td"),e._uU(34," Cura\xe7ao "),e.qZA(),e.TgZ(35,"td"),e._uU(36," Sinaai-Waas "),e.qZA(),e.TgZ(37,"td",9),e._uU(38," $23,789 "),e.qZA()(),e.TgZ(39,"tr")(40,"td"),e._uU(41," Sage Rodriguez "),e.qZA(),e.TgZ(42,"td"),e._uU(43," Netherlands "),e.qZA(),e.TgZ(44,"td"),e._uU(45," Baileux "),e.qZA(),e.TgZ(46,"td",9),e._uU(47," $56,142 "),e.qZA()(),e.TgZ(48,"tr")(49,"td"),e._uU(50," Philip Chaney "),e.qZA(),e.TgZ(51,"td"),e._uU(52," Korea, South "),e.qZA(),e.TgZ(53,"td"),e._uU(54," Overland Park "),e.qZA(),e.TgZ(55,"td",9),e._uU(56," $38,735 "),e.qZA()(),e.TgZ(57,"tr")(58,"td"),e._uU(59," Doris Greene "),e.qZA(),e.TgZ(60,"td"),e._uU(61," Malawi "),e.qZA(),e.TgZ(62,"td"),e._uU(63," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(64,"td",9),e._uU(65," $63,542 "),e.qZA()(),e.TgZ(66,"tr")(67,"td"),e._uU(68," Mason Porter "),e.qZA(),e.TgZ(69,"td"),e._uU(70," Chile "),e.qZA(),e.TgZ(71,"td"),e._uU(72," Gloucester "),e.qZA(),e.TgZ(73,"td",9),e._uU(74," $78,615 "),e.qZA()(),e.TgZ(75,"tr")(76,"td"),e._uU(77," Jon Porter "),e.qZA(),e.TgZ(78,"td"),e._uU(79," Portugal "),e.qZA(),e.TgZ(80,"td"),e._uU(81," Gloucester "),e.qZA(),e.TgZ(82,"td",9),e._uU(83," $98,615 "),e.qZA()()()()()()()(),e.TgZ(84,"div",1)(85,"div",10)(86,"div",3)(87,"h4",4),e._uU(88," Table on Plain Background"),e.qZA(),e.TgZ(89,"p",11),e._uU(90," Here is a subtitle for this table"),e.qZA()(),e.TgZ(91,"div",5)(92,"div",6)(93,"table",7)(94,"thead",8)(95,"th"),e._uU(96," Name "),e.qZA(),e.TgZ(97,"th"),e._uU(98," Country "),e.qZA(),e.TgZ(99,"th"),e._uU(100," City "),e.qZA(),e.TgZ(101,"th",9),e._uU(102," Salary "),e.qZA()(),e.TgZ(103,"tbody")(104,"tr")(105,"td"),e._uU(106," Dakota Rice "),e.qZA(),e.TgZ(107,"td"),e._uU(108," Niger "),e.qZA(),e.TgZ(109,"td"),e._uU(110," Oud-Turnhout "),e.qZA(),e.TgZ(111,"td",9),e._uU(112," $36,738 "),e.qZA()(),e.TgZ(113,"tr")(114,"td"),e._uU(115," Minerva Hooper "),e.qZA(),e.TgZ(116,"td"),e._uU(117," Cura\xe7ao "),e.qZA(),e.TgZ(118,"td"),e._uU(119," Sinaai-Waas "),e.qZA(),e.TgZ(120,"td",9),e._uU(121," $23,789 "),e.qZA()(),e.TgZ(122,"tr")(123,"td"),e._uU(124," Sage Rodriguez "),e.qZA(),e.TgZ(125,"td"),e._uU(126," Netherlands "),e.qZA(),e.TgZ(127,"td"),e._uU(128," Baileux "),e.qZA(),e.TgZ(129,"td",9),e._uU(130," $56,142 "),e.qZA()(),e.TgZ(131,"tr")(132,"td"),e._uU(133," Philip Chaney "),e.qZA(),e.TgZ(134,"td"),e._uU(135," Korea, South "),e.qZA(),e.TgZ(136,"td"),e._uU(137," Overland Park "),e.qZA(),e.TgZ(138,"td",9),e._uU(139," $38,735 "),e.qZA()(),e.TgZ(140,"tr")(141,"td"),e._uU(142," Doris Greene "),e.qZA(),e.TgZ(143,"td"),e._uU(144," Malawi "),e.qZA(),e.TgZ(145,"td"),e._uU(146," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(147,"td",9),e._uU(148," $63,542 "),e.qZA()(),e.TgZ(149,"tr")(150,"td"),e._uU(151," Mason Porter "),e.qZA(),e.TgZ(152,"td"),e._uU(153," Chile "),e.qZA(),e.TgZ(154,"td"),e._uU(155," Gloucester "),e.qZA(),e.TgZ(156,"td",9),e._uU(157," $78,615 "),e.qZA()(),e.TgZ(158,"tr")(159,"td"),e._uU(160," Jon Porter "),e.qZA(),e.TgZ(161,"td"),e._uU(162," Portugal "),e.qZA(),e.TgZ(163,"td"),e._uU(164," Gloucester "),e.qZA(),e.TgZ(165,"td",9),e._uU(166," $98,615 "),e.qZA()()()()()()()()())}}),t}(),c=n(2040),O=n(2114),T=n(7807),Z=n(6493),p=n(655),f=n(4766),U=n(529),m=function(){function t(d){this.http=d,this.apiUrl=f.N.apiUrl+"orderitem"}return t.prototype.Get_Orderdetails=function(d){var r=this.apiUrl+"/0/"+d;return console.log("url:"+r),this.http.get(r)},t.\u0275fac=function(r){return new(r||t)(e.LFG(U.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),v=n(3638);function A(t,d){if(1&t&&(e.TgZ(0,"tr",6)(1,"td",6),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA()()),2&t){var r=d.$implicit,i=e.oxw();e.xp6(2),e.Oqu(i.servCommon.GetDisplayNameByKey(i.product_list,"id",r.productId,"product_name")),e.xp6(2),e.Oqu(r.price),e.xp6(2),e.Oqu(r.quantity)}}var q=function(){function t(d,r,i,o){this.servOrder=d,this.servOrderitem=r,this.servShared=i,this.servCommon=o,this.orderdetail=[],this.product_list=[]}return t.prototype.ngOnInit=function(){var d=this;this.servShared.Master_Products$.subscribe(function(r){d.product_list=r})},t.prototype.ngOnChanges=function(d){return(0,p.mG)(this,void 0,void 0,function(){return(0,p.Jh)(this,function(r){switch(r.label){case 0:return d.Selected_Order_id_for_detail&&this.Selected_Order_id_for_detail?[4,this.get_OrderItemsOfOrder()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.get_OrderItemsOfOrder=function(){var d=this;return new Promise(function(r,i){d.servOrderitem.Get_Orderdetails(d.Selected_Order_id_for_detail).subscribe(function(o){d.orderdetail=o,console.log("res:"+JSON.stringify(d.orderdetail)),r(!0)})})},t.prototype.setOrderStatusToShipping=function(){this.servOrder.serOrderStatus(this.Selected_Order_id_for_detail,"Shipping")},t.prototype.setOrderStatusToComplete=function(){this.servOrder.serOrderStatus(this.Selected_Order_id_for_detail,"Complete")},t.\u0275fac=function(r){return new(r||t)(e.Y36(c.p),e.Y36(m),e.Y36(v.g),e.Y36(Z.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-display-orderdetail"]],inputs:{Selected_Order_id_for_detail:"Selected_Order_id_for_detail"},features:[e.TTD],decls:18,vars:1,consts:[[1,"row"],[1,"col-md-12"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"table","table-striped"],["scope","col"],["style","height: 5px;",4,"ngFor","ngForOf"],[2,"height","5px"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return i.setOrderStatusToShipping()}),e._uU(3,"Shipping"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return i.setOrderStatusToComplete()}),e._uU(5,"Complete"),e.qZA(),e.TgZ(6,"table",3)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"Product"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Price"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Quantity"),e.qZA(),e._UZ(15,"th",4),e.qZA()(),e.TgZ(16,"tbody"),e.YNc(17,A,7,3,"tr",5),e.qZA()()()()),2&r&&(e.xp6(17),e.Q6J("ngForOf",i.orderdetail))},dependencies:[a.sg]}),t}();function y(t,d){if(1&t){var r=e.EpF();e.TgZ(0,"tr",5)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",5),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"button",6),e.NdJ("click",function(){var N=e.CHM(r).$implicit,w=e.oxw();return e.KtG(w.selectUser(N))}),e._uU(7,"Select"),e.qZA()()()}if(2&t){var i=d.$implicit,o=e.oxw();e.xp6(2),e.Oqu(i.orderId),e.xp6(2),e.Oqu(o.servCommon.GetDisplayNameByKey(o.users,"id",i.userId,"display_name"))}}function S(t,d){if(1&t&&e._UZ(0,"app-display-orderdetail",7),2&t){var r=e.oxw();e.Q6J("Selected_Order_id_for_detail",r.Selected_Order_id_for_detail)}}var b=[{path:"",component:g,children:[{path:"",redirectTo:"Paid-Orders",pathMatch:"full"},{path:"New-Orders",component:h},{path:"Paid-Orders",component:function(){function t(d,r,i,o){var _=this;this.servOrder=d,this.servAuth=r,this.servUser=i,this.servCommon=o,this.servAuth.currentUser.subscribe(function(u){return _.currentUser=u})}return t.prototype.ngOnInit=function(){this.get_Users(),this.get_Paid_Orders_Of_Seller()},t.prototype.get_Paid_Orders_Of_Seller=function(){var d=this;this.servOrder.Get_Orders_Of_Sellers(this.currentUser.id,"PAID").subscribe(function(r){d.Paid_Orders_Of_Sellers=r,console.log("Paid_Orders_Of_Sellers:"+JSON.stringify(d.Paid_Orders_Of_Sellers))})},t.prototype.selectUser=function(d){this.Selected_Order_id_for_detail=d.orderId},t.prototype.get_Users=function(){var d=this;this.servUser.getUsers().subscribe(function(r){d.users=r})},t.\u0275fac=function(r){return new(r||t)(e.Y36(c.p),e.Y36(O.$),e.Y36(T.K),e.Y36(Z.v))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-paid-orders"]],inputs:{events:"events"},decls:14,vars:2,consts:[[1,"row"],[1,"col-6"],[1,"table","table-striped"],["style","height: 5px;",4,"ngFor","ngForOf"],[3,"Selected_Order_id_for_detail",4,"ngIf"],[2,"height","5px"],[1,"btn","btn-primary","btn-sm",3,"click"],[3,"Selected_Order_id_for_detail"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th"),e._uU(6,"OrderId"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Customer"),e.qZA(),e._UZ(9,"th"),e.qZA()(),e.TgZ(10,"tbody"),e.YNc(11,y,8,2,"tr",3),e.qZA()()(),e.TgZ(12,"div",1),e.YNc(13,S,1,1,"app-display-orderdetail",4),e.qZA()()),2&r&&(e.xp6(11),e.Q6J("ngForOf",i.Paid_Orders_Of_Sellers),e.xp6(2),e.Q6J("ngIf",i.Selected_Order_id_for_detail))},dependencies:[a.sg,a.O5,q]}),t}()}]}],P=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[s.Bz.forChild(b),s.Bz]}),t}(),M=function(){function t(){}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[a.ez,P]}),t}()}}]);