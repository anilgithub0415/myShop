"use strict";(self.webpackChunkEshop=self.webpackChunkEshop||[]).push([[592],{680:(m,h,s)=>{s.d(h,{l:()=>p});var d=s(4650),p=function(){function i(){}return i.prototype.transform=function(n,a){if(!n)return null;var c=[];return n.forEach(function(l){var e=l[a],t=c.find(function(r){return r.key===e});t?t.items.push(l):c.push({key:e,items:[l]})}),c},i.\u0275fac=function(a){return new(a||i)},i.\u0275pipe=d.Yjl({name:"groupBy",type:i,pure:!0}),i}()},5474:(m,h,s)=>{s.d(h,{E:()=>l});var d=s(4766),p=s(591),i=s(4850),n=s(4650),a=s(529),c=s(2114),l=function(){function e(t,r){var o=this;this.http=t,this.servAuth=r,this.apiUrl=d.N.apiUrl+"ordercommission",this.orderSubject=new p.X({}),this.orderitemSubject=new p.X([]),this.SellerpaycommissionSubject=new p.X({}),this.servAuth.currentUser.subscribe(function(u){return o.currentUser=u}),this.servAuth.isUserLoggedIn()&&this.loadOrders()}return e.prototype.Get_Completed_Orders_Of_Sellers_For_PayCommission=function(t,r){var o=this.apiUrl+"/"+t;return console.log("url:"+o),""!=r&&(o=o+"/"+r),this.http.get(o)},e.prototype.PayCommission_for_Order=function(t){return this.http.put(this.apiUrl+"/PayCommission?orderId="+t.orderId,{})},e.prototype.PayCommission_for_Orders=function(t){return this.http.put(this.apiUrl+"/PayCommission?orderId=0&orderIds_comma_seperated="+t,{})},e.prototype.Get_Sellers_UNPAID_Commission_Summary=function(t){return this.http.get(this.apiUrl+"/0/Complete")},e.prototype.Get_Orders_Of_Customer=function(t,r){var o=this.apiUrl+"/"+t+"/0";return console.log("url:"+o),""!=r&&(o=o+"/"+r),this.http.get(o)},e.prototype.PlaceOrder=function(t,r,o){return this.http.post(this.apiUrl,{userId:t,orderdate:Date(),orderItems:r}).subscribe(function(){})},e.prototype.CheckOutOrder=function(t,r,o,u,_,f){return this.http.post(this.apiUrl,{order_status:t,userId:r,seller_id:o,orderdate:Date(),orderItems:u,totalAmount:_,discount:f}).subscribe(function(){})},e.prototype.getOrder=function(){return this.orderSubject.asObservable()},e.prototype.getOrderItems=function(){return this.orderitemSubject.asObservable()},e.prototype.getSellerpaycommission=function(){return this.SellerpaycommissionSubject.asObservable()},e.prototype.loadOrders=function(){var t=this;console.log("loadorders");var o=0;this.http.get(this.apiUrl+"/"+this.currentUser.id+"/Complete").pipe((0,i.U)(function(u){return u.map(function(_){"UNPAID"==_.commission_status&&(o+=_.commission_applicable)}),o})).subscribe(function(u){t.SellerpaycommissionSubject.next(u)})},e.prototype.serOrderStatus=function(t,r){return this.http.put(this.apiUrl+"/orderstatuschange?orderid="+t+"&orderstatus="+r,{}).subscribe(function(){})},e.\u0275fac=function(r){return new(r||e)(n.LFG(a.eN),n.LFG(c.$))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);