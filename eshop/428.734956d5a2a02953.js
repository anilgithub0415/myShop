"use strict";(self.webpackChunkEshop=self.webpackChunkEshop||[]).push([[428],{5428:(J,l,r)=>{r.r(l),r.d(l,{SellerModule:()=>F});var p=r(6895),m=r(7716),v=r(5567),R=r(7557),y=r(4766),o=r(4650),h=function(){function t(){}return Object.defineProperty(t.prototype,"nativeWindow",{get:function(){return function P(){return window}()},enumerable:!1,configurable:!0}),t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac=function(n){return new(n||t)},providedIn:"root"}),t}(),g=r(529),T=r(567),z=r(8929),O=r(341),S=r(2654),N=r(7770),C=r(5279),I=r(5283);class w extends z.xQ{constructor(e=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new A(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,c=i.length;let a;if(this.closed)throw new C.N;if(this.isStopped||this.hasError?a=S.w.EMPTY:(this.observers.push(e),a=new I.W(this,e)),s&&e.add(e=new N.ht(e,s)),n)for(let d=0;d<c&&!e.closed;d++)e.next(i[d]);else for(let d=0;d<c&&!e.closed;d++)e.next(i[d].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),a}_getNow(){return(this.scheduler||O.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,c=s.length;let a=0;for(;a<c&&!(e-s[a].time<i);)a++;return c>n&&(a=Math.max(a,c-n)),a>0&&s.splice(0,a),s}}class A{constructor(e,n){this.time=e,this.value=n}}var x=function(){function t(e){this.document=e,this._loadedLibraries={}}return t.prototype.lazyLoadLibrary=function(e){return(0,T.D)([this.loadScript(e)])},t.prototype.loadScript=function(e){var n=this;if(this._loadedLibraries[e])return this._loadedLibraries[e].asObservable();this._loadedLibraries[e]=new w;var i=this.document.createElement("script");return i.type="text/javascript",i.async=!0,i.src=e,i.onload=function(){n._loadedLibraries[e].next(),n._loadedLibraries[e].complete()},this.document.body.appendChild(i),this._loadedLibraries[e].asObservable()},t.\u0275fac=function(n){return new(n||t)(o.LFG(p.K0))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),M=r(6493),E=function(){function t(e,n,i,s){var c=this;this.razorpayService=e,this.cd=n,this.servCommon=i,this.winRef=s,this.param_RP_currency="INR",this.param_RP_Notes="Commission Paid",this.showModal=!1,this.RAZORPAY_OPTIONS={key:"rzp_test_vmjtxiBj8VbrZj",amount:this.param_RP_Amount,name:"Pay",order_id:this.param_RP_Orderid,handler:function(a){console.log(a.razorpay_payment_id),console.log(a.razorpay_order_id),console.log(a.razorpay_signature)},description:"Load Wallet",image:"https://livestatic.novopay.in/resources/img/nodeapp/img/Logo_NP.jpg",prefill:{name:"",email:"test@test.com",contact:"989084`532",method:""},modal:{},theme:{color:"#0096C5"}},this.cancelCallback=function(a){c.servCommon.presentToast("middle","cancelCallback working..."+a.description+"errorcode:"+a.code)},this.razorPaySuccessHandler=function(a){c.servCommon.presentToast("middle"," Generated orderid:"+c.param_RP_Orderid),c.razorpayResponse="Razorpay Response",c.showModal=!0,c.cd.detectChanges()}}return t.prototype.ngOnInit=function(){this.razorpayService.lazyLoadLibrary("https://checkout.razorpay.com/v1/checkout.js").subscribe()},t.prototype.proceed=function(){this.RAZORPAY_OPTIONS.amount=this.param_RP_Amount+"00",this.RAZORPAY_OPTIONS.handler=this.razorPaySuccessHandler.bind(this);var e=new this.winRef.nativeWindow.Razorpay(this.RAZORPAY_OPTIONS);e.on("payment.cancel",this.cancelCallback);var n=this;e.on("payment.failed",function(i){n.responseerrorcode=i.error.code,n.responseerrordescription=i.error.description,n.servCommon.presentToast("middle",i.error.code+"-"+i.error.description)}),e.open()},t.\u0275fac=function(n){return new(n||t)(o.Y36(x),o.Y36(o.sBO),o.Y36(M.v),o.Y36(h))},t.\u0275cmp=o.Xpm({type:t,selectors:[["razorpay"]],inputs:{param_RP_Orderid:"param_RP_Orderid",param_RP_Amount:"param_RP_Amount",param_RP_currency:"param_RP_currency",param_RP_receipt:"param_RP_receipt",param_RP_Notes:"param_RP_Notes"},decls:4,vars:1,consts:[["color","primary",3,"click"]],template:function(n,i){1&n&&(o.TgZ(0,"p"),o._uU(1,"razorpay works!"),o.qZA(),o.TgZ(2,"button",0),o.NdJ("click",function(){return i.proceed()}),o._uU(3),o.qZA()),2&n&&(o.xp6(3),o.hij("Pay Rs. ",i.param_RP_Amount,""))}}),t}();function Y(t,e){if(1&t){var n=o.EpF();o.TgZ(0,"div")(1,"button",3),o.NdJ("click",function(){o.CHM(n);var s=o.oxw();return o.KtG(s.createOrder())}),o._uU(2,"Create Order Id"),o.qZA()()}}function Z(t,e){if(1&t&&(o.TgZ(0,"div"),o._UZ(1,"razorpay",4),o.qZA()),2&t){var n=o.oxw();o.xp6(1),o.Q6J("param_RP_Orderid",n.RPOrderid)("param_RP_Amount",n.RPamount)("param_RP_currency",n.RPcurrency)("param_RP_receipt",n.RPreceipt)("param_RP_Notes",n.RPnotes)}}var u=function(){function t(e,n){this.winRef=e,this.http=n,this.apiUrl=y.N.apiUrl}return t.prototype.ngOnInit=function(){},t.prototype.createOrder=function(){var e=this,n=this.apiUrl+"Razor",i={amount:5e3,currency:"INR",receipt:"RPreceipt",notes:"RPnotes"};console.log("creating order with options:"+JSON.stringify(i)),this.http.post(n,i).subscribe(function(s){console.log("rrrrrrrrrrrrresponse:"+JSON.stringify(s.id)),e.RPOrderid=s.id,e.RPamount=5e3,e.RPcurrency="INR",e.RPreceipt="RPreceipt",e.RPnotes="RPnotes"})},t.\u0275fac=function(n){return new(n||t)(o.Y36(h),o.Y36(g.eN))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-test-razor-pay"]],decls:6,vars:2,consts:[[1,"row"],[1,"col-6>"],[4,"ngIf"],[1,"btn","btn-danger","btn-sm",3,"click"],[3,"param_RP_Orderid","param_RP_Amount","param_RP_currency","param_RP_receipt","param_RP_Notes"]],template:function(n,i){1&n&&(o.TgZ(0,"p"),o._uU(1,"test-razor-pay works!"),o.qZA(),o.TgZ(2,"div",0)(3,"div",1),o.YNc(4,Y,3,0,"div",2),o.YNc(5,Z,2,5,"div",2),o.qZA()()),2&n&&(o.xp6(4),o.Q6J("ngIf",!i.RPOrderid),o.xp6(1),o.Q6J("ngIf",i.RPOrderid))},dependencies:[p.O5,E]}),t}(),L=[{path:"aa",component:R.N},{path:"",loadChildren:function(){return r.e(909).then(r.bind(r,9909)).then(function(t){return t.ManageProductsModule})}},{path:"manage_product",loadChildren:function(){return r.e(909).then(r.bind(r,9909)).then(function(t){return t.ManageProductsModule})}},{path:"manage_orders",loadChildren:function(){return r.e(625).then(r.bind(r,3637)).then(function(t){return t.ManageOrdersModule})}},{path:"manage_promotions",loadChildren:function(){return r.e(865).then(r.bind(r,865)).then(function(t){return t.ManagePromotionsModule})}},{path:"paycommission",component:u},{path:"testRP",component:u},{path:"dboy",component:v.l}],W=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(L),m.Bz]}),t}(),f=r(4006),b=r(3738),j=r(460),F=function(){function t(){}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,f.u5,f.UX,b.W,j.kn.forRoot(),W]}),t}()}}]);